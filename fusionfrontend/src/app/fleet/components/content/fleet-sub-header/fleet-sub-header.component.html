<!--
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing,
* software distributed under the License is distributed on an
* "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
* KIND, either express or implied.  See the License for the
* specific language governing permissions and limitations
* under the License.
-->

<div class="wrapper if-subheader">
  <p-dialog header="Fleet manager files synced with repo" [(visible)]="ifApiService.showResult">
    <div>Import: {{ ifApiService.syncResult?.importResult?.handled }} handled, {{ ifApiService.syncResult?.importResult?.skipped }} skipped (objects)</div>
    <div>Export: {{ ifApiService.syncResult?.exportResult?.handled }} handled, {{ ifApiService.syncResult?.exportResult?.skipped }} skipped (files)</div>
    <ng-template pTemplate="footer">
      <p-button icon="pi pi-check" (click)="ifApiService.showResult=false" label="Ok" styleClass="p-button-text"></p-button>
    </ng-template>
  </p-dialog>
  <ul>
    <li [ngClass]="{'active': isRouteActive('assetseries')}" (click)="onRouteClick('assetseries')">Asset Series</li>
    <li>
      <a [href]="ifApiService.getExportLinkFleetManager(companyId)" target="_self" [pTooltip]="'Export data of Fleet Manager'">
        <i class="pi pi-download"></i>
      </a>
    </li>
    <li>
      <label class="if-upload-button-light" [pTooltip]="'Import data of Ecosystem Manager'">
        <i class="pi pi-upload"></i>
        <input type="file" accept="application/zip" (change)="onZipFileUpload($event)">
      </label>
    </li>
    <li (click)="ifApiService.syncModelRepoFleetManager(companyId)" [pTooltip]="'Sync data of Fleet Manager with model git repository'">
      <i class="pi pi-refresh"></i>
    </li>
  </ul>
</div>
